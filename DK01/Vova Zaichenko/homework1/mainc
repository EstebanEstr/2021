#include <stdio.h>
#include <stdlib.h>
#include <string.h>
#include "dk_tools.h"

int main(int argc, char *argv[])
{

	if(argc==1)
	{
		printf("Error!\n");
		return -1;
	}
	else if(strcmp(argv[1], "--make-matrix") == 0)
	{
		int r = conv_to_int(argv[2]);
		int c = conv_to_int(argv[3]);

		if(r==-1 && c==-1)
		{
			printf("Error!\n");
			return -1;
		}

		int** matrix = make_matrix(r, c);

		int k = 0, j = 0;

		for(int i=4; i < argc; i++)
		{
			if(strcmp(argv[i],"%")==0)
			{
				k++;
				j=0;
			}
			else
			{
				matrix[k][j] = conv_to_int(argv[i]);
				if(matrix[k][j] == -1)
				{
					printf("Error!\n");
					return -1;
				}

				j++;
			}

		}
		
		printf("\nРњР°С‚СЂРёС†СЏ:\n");

		for(int i=0; i < r; i++)
		{
			for(int j=0; j < c; j++)
			{
				printf("%5.d ", matrix[i][j]);
			}
			printf("\n");
		}

		del_matrix(matrix, r);
		printf("\nМатриця видалення!\n");
	}
	else if(strcmp(argv[1], "--find") == 0 && argc==4)
	{
		int pos = find_chars(argv[2], argv[3]);
		printf("ПОзиція першого проходження набору символів: %d\n",pos);
	}
	else if(strcmp(argv[1], "--str-buffer") == 0 && argc==3)
	{
		int len = str_buffer(argv[2]);
		printf("Довжина рядка: %d\n",len);
	}
	else
	{
		printf("Неіснуюча копія або неправильно введені дані!\n");
	}
}
